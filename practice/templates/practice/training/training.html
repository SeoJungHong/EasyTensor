{% extends 'practice/base_training.html' %}
{% load staticfiles %}

<!--override-->
{% block content %}
<div class="row">
  <br>
  {% block frame %}
  <h3>Set {{ practice_name }} training settings</h3>
  <br>
  <form action = "/{{ practice_name }}/training/" accept-charset="utf-8" name="save_training" method="post">
    {% for key,value_list in list.items %}
      <div class="w3-card-2 w3-round w3-white w3-hide-small">
        <div class="w3-container">
          <div class="table_name col-sm-4">{{ key }}</div>
          <div class="table_value col-sm-8">
            {% if "Optimizer" in key %}
              <div class="cc-selector">
                {% for value in value_list %}
                  <label><input type="radio" name="{{ key }}" value="{{ value }}" /><img class="drinkcard-cc" src ="/static/practice/images/{{ value }}.png"></label>
                {% endfor %}
              </div>
            {% else %}
              <div class="w3-container">
                <label class="w3-label w3-text-teal"></label>
                <input class="w3-input w3-border-bottom" type="text" name="{{ key }}" value="{{ value_list }}">
              </div>
            {% endif %}
          </div>
        </div>
    </div>
    {% endfor %}
    <input type="submit" class="nextButton w3-btn w3-dark-gray" value="OK">
  </form>
  {% endblock frame %}
</div>
<p><a href="#section02"><span></span>HELP</a></p>
<script>
  var cur= window.location.pathname;
  if(cur.indexOf('training')){
    $('.submenu').hide();
    $('#training.submenu').show();
  }
   $('#training').prev().children().css('color','#009925');
</script>
{% endblock content %}

{% block help %}
<h3>How is the MNIST algorithm organized?</h3>
<div class="slideshow">
  <img src="{% static 'practice/images/ppt/training (1).png' %}" width="auto" height="400" alt="first image">
  <img src="{% static 'practice/images/ppt/training (2).png' %}" width="auto" height="400" alt="second image">
  <img src="{% static 'practice/images/ppt/training (3).png' %}" width="auto" height="400" alt="third image">
  <img src="{% static 'practice/images/ppt/training (4).png' %}" width="auto" height="400" alt="fourth image">
  <img src="{% static 'practice/images/ppt/training (5).png' %}" width="auto" height="400" alt="first image">
  <img src="{% static 'practice/images/ppt/training (6).png' %}" width="auto" height="400" alt="second image">
  <img src="{% static 'practice/images/ppt/training (7).png' %}" width="auto" height="400" alt="third image">
  <img src="{% static 'practice/images/ppt/training (8).png' %}" width="auto" height="400" alt="fourth image">
  <img src="{% static 'practice/images/ppt/training (9).png' %}" width="auto" height="400" alt="first image">
  <img src="{% static 'practice/images/ppt/training (10).png' %}" width="auto" height="400" alt="second image">
  <img src="{% static 'practice/images/ppt/training (11).png' %}" width="auto" height="400" alt="third image">
  <p style="position:absolute;bottom:0;right:0;">
    <button id="prevSlide">Prev</button>
    <button id="nextSlide">Next</button>
  </p>
</div>
{% endblock help %}

{% block scripts %}
<script>
  $(function() {
    $('a[href="#section02"]').on('click', function(e) {
      $('html, body').animate({
        scrollTop: $("#section02").offset().top
      }, 500);
      return false;
    });
  });

  var interval = undefined;
  $(document).ready(function () {
    interval = setInterval(getFirst, 2000);// milliseconds
    getNext();
    $('#nextSlide').on('click', getNext);
    $('#prevSlide').on('click', getPrev);
  });

  function getFirst() {
    var $curr = $('.slideshow img:visible').first();
    $curr.css('z-index', 1);
  }

  function getNext() {
    var $curr = $('.slideshow img:visible'),
        $next = ($curr.next('img').length) ? $curr.next() : $('.slideshow img').first();
    transition($curr, $next);
  }

  function getPrev() {
    var $curr = $('.slideshow img:visible'),
        $next = ($curr.prev('img').length) ? $curr.prev() : $('.slideshow img').last();
    transition($curr, $next);
  }

  function transition($curr, $next) {
    clearInterval(interval);
    $next.css('z-index', 2).fadeIn('slow', function () {
      $curr.hide().css('z-index', 0);
      $next.css('z-index', 1);
    });
  }

  $(document).ready(function() {
    $('.data-end').attr('src','{% static 'practice/images/end_check.png' %}');
    $('.algorithm-end').attr('src','{% static 'practice/images/end_check.png' %}');
    $('#training-1').attr('src','{% static 'practice/images/middle_exec.png' %}');
    $('#training-1').parent().next().children().css('font-weight','Bold');
    $('#training-1').parent().next().children().css('font-size','17px');
  });
</script>
{% endblock scripts %}