{% extends 'practice/base.html' %}
{% load staticfiles %}

{% block content %}
<div class="row" >
  <br>
  <h3>Set {{ practice_name }} algorithm</h3>
  <br>
  <form action = "/{{ practice_name }}/algorithm/" accept-charset="utf-8" name="save_algorithm" method="post">
    <br>
    <table border="1" class="w3-table-all">
      {% for key, value_list in list.items %}
        <tr>
          <td>{{ key }}</td>
          <td>
            <select name="{{ key }}">
              {% for value in value_list %}
                <option value="{{ value }}">{{ value }}</option>
              {% endfor %}
            </select>
          </td>
        </tr>
      {% endfor %}
    </table>
    <br><br>
    <input type="submit" value="Next">
  </form>
</div>
{% endblock content %}

{% block scripts %}
<script>

  var interval = undefined;
  $(document).ready(function () {
    interval = setInterval(getFirst, 2000); // milliseconds
    $('#nextSlide').on('click', getNext);
    $('#prevSlide').on('click', getPrev);
  });

  function getFirst() {
    var $curr = $('.slideshow img:visible').first();
    $curr.css('z-index', 1);
  }

  function getNext() {
    var $curr = $('.slideshow img:visible'),
        $next = ($curr.next('img').length) ? $curr.next() : $('.slideshow img').first();
    transition($curr, $next);
  }

  function getPrev() {
    var $curr = $('.slideshow img:visible'),
        $next = ($curr.prev('img').length) ? $curr.prev() : $('.slideshow img').last();
    transition($curr, $next);
  }

  function transition($curr, $next) {
    clearInterval(interval);
    $next.css('z-index', 2).fadeIn('slow', function () {
      $curr.hide().css('z-index', 0);
      $next.css('z-index', 1);
    });
  }
  $(document).ready(function() {
    var cur= window.location.pathname;
    if(cur.indexOf('algorithm')){
      $('.submenu').hide();
      $('#algorithm.submenu').show();
    }
    $('.data-end').attr('src','{% static 'practice/images/end_check.png' %}');
    $('.algorithm-end').attr('src','{% static 'practice/images/end_exec.png' %}');
    $('#algorithm-1').parent().next().children().css('font-weight','Bold');
    $('#algorithm-1').parent().next().children().css('font-size','17px');
    $('#algorithm').prev().children().css('color','#eeb211');
  });
</script>
{% endblock scripts %}